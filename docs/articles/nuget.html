<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Nuget package upload how-to | TimeSeriesAnalysis reference documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Nuget package upload how-to | TimeSeriesAnalysis reference documentation ">
    <meta name="generator" content="docfx 2.58.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="nuget-package-upload-how-to">Nuget package upload how-to</h1>

<p>This is  .NET framework 4.6.1 class library published to github packages, by means of the following tutorial:
<a href="https://github.community/t/publish-net-framework-nuget-package/3077/2">https://github.community/t/publish-net-framework-nuget-package/3077/2</a>
and here:
<a href="https://docs.microsoft.com/en-us/nuget/create-packages/creating-a-package-msbuild">https://docs.microsoft.com/en-us/nuget/create-packages/creating-a-package-msbuild</a></p>
<p>Note that the steps here are somewhat different to most online tutorials which target .NET Core and use the &quot;dotnet&quot; CLI instead of &quot;nuget&quot; CLI.</p>
<p>For future reference, this is the steps followed:</p>
<ul>
<li><p>make sure the classes you want to give access to are public.</p>
</li>
<li><p>the description that will be shown in nuget when downloading is pulled from <description></description> in the .csproj file beneath <propertygroup>. Consider adding it.
Also add the the url to the repository and some other info such as shown below:<p>
</propertygroup></li>
</ul>
<pre><code>    &lt;RepositoryUrl&gt;https://github.com/equinor/TimeSeriesAnalysis&lt;/RepositoryUrl&gt;
    &lt;RepositoryType&gt;git&lt;/RepositoryType&gt;
    &lt;GeneratePackageOnBuild&gt;true&lt;/GeneratePackageOnBuild&gt;
    &lt;PackageOutputPath&gt;bin\debug\&lt;/PackageOutputPath&gt;
    &lt;Version&gt;1.0.0&lt;/Version&gt;
    &lt;Authors&gt;Steinar Elgsæter&lt;/Authors&gt;
	&lt;description&gt;todo&lt;/description&gt; 
</code></pre>
<ul>
<li>reccomend adding in information to the AssemblyInfo.cs before starting.</li>
<li>a personal acceess token xxxxxxx needs to be generated for your user in github,and needs access to &quot;read:packages&quot;,
&quot;write:packages&quot; and &quot;repo&quot;.organization access (authorize with SSO ) and then press &quot;authorize&quot;</li>
<li>create a nuget.config file that defines &quot;github&quot; as a nuget destination:</li>
</ul>
<pre><code class="lang-&lt;?xml">	&lt;configuration&gt;
		&lt;packageSources&gt;
			&lt;clear /&gt;
			&lt;add key=&quot;github&quot; value=&quot;https://nuget.pkg.github.com/equinor/index.json&quot; /&gt;
			&lt;add key=&quot;nuget&quot; value=&quot;https://api.nuget.org/v3/index.json&quot; /&gt;
		&lt;/packageSources&gt;
	 &lt;packageSourceCredentials&gt;
			&lt;github&gt;
				&lt;add key=&quot;Username&quot; value=&quot;yourgithubuser&quot; /&gt;
				&lt;add key=&quot;ClearTextPassword&quot; value=xxxxxxx&quot; /&gt;
			&lt;/github&gt;
		&lt;/packageSourceCredentials&gt;
&lt;/configuration&gt;
</code></pre>
<ul>
<li><p>pacakges.nuget needs to be moved into project file *.csproj as <packagereference> items instead<p>
</packagereference></li>
<li><p>NuGet.Build.Tasks.Pack need to be added as a pacakage to project</p>
</li>
<li><p>need to download nuget.exe and use it to push generated .nupkg file</p>
</li>
<li><p>then to publish put the following two commands in a publish.bat file:</p>
</li>
</ul>
<pre><code>	nuget setapikey xxxxxxxx -source &quot;github&quot;
	nuget push bin\Debug\*.nupkg -source &quot;github&quot; -SkipDuplicate
	pause
</code></pre>
<ul>
<li><p>check that the script concludes with &quot;Your package was pushed&quot; and no error messages in yellow or red.</p>
</li>
<li><p>notice that you need to iterate the version number in your .csproj file every time you push a new version of the package.</p>
</li>
</ul>
<div class="WARNING">
<h5>Warning</h5>
<p>Make sure that you do not check-in the nuget.config file you create, as it contains a <em>secret</em> token. Add nuget.config to your git ignore file.</p>
</div>
<h1 id="nuget-package-download-how-to">Nuget package download how-to</h1>
<p>To use this nuget pacakge, you need to incldue the nuget.config file above in the solution that intends to pull down the package. You can then select github as
the package source in Visual Studio &quot;Manage Nuget packages for Solution&quot;.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
